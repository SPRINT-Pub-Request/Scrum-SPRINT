<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/styles.css" type="text/css"/> 

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.ckeditor.com/ckeditor5/11.0.1/classic/ckeditor.js"></script>
    <script src="javascript\viewRequests.js" type="text/javascript"></script>
    <title>Assigned Requests</title>
</head>
<body>
    
    {{> sidebar viewFlag=viewFlag mReqFlag=mReqFlag mUserFlag=mUserFlag}}

    <div class="container-start with-sidebar" style="padding-left: 100px; padding-right: 100px; overflow: auto;">

        <h1>Assigned Requests</h1>
        <div class="h-spacer50"></div>

        <div class="container-table container-requests" style="padding-left: 100px; padding-right:100px">

            <div class="sort-row">
                Filter by Status : 
                <select id="filter-status" class="request" style='font-family: "OpenSans-Bold", Sans-Serif; border: 1px solid black; border-radius: 4px;'>
                    <option selected style="display: none"></option>
                    <option value = "Not Started">Not Started</option>
                    <option value = "In Progress">In Progress</option>
                    <option value = "Finished">Finished</option>
                </select>
                Sort by Date : 
                <select id="filter-date" class="request" style='font-family: "OpenSans-Bold", Sans-Serif; border: 1px solid black; border-radius: 4px;'>
                    <option selected style="display: none"></option>
                    <option value = "Date Submitted">Date Submitted (asc.)</option>
                    <option value = "Posting Date">Posting Date (asc.)</option>
                    <option value = "Date Submitted">Date Submitted (desc.)</option>
                    <option value = "Posting Date">Posting Date (desc.)</option>
                </select>
            </div>
            
            <!-- { { #each request_data } } -->
            <div class="request-item">
                <div class="row">
                <div class="col request-header">

                    <select id="status" class="request" style='font-family: "OpenSans-Bold", Sans-Serif; border: 1px solid black; border-radius: 4px;'>
                        <option class="not_started" value = "Not Started">Not Started</option>
                        <option class="in_progress" value = "In Progress" selected>In Progress</option>
                        <option class="finished" value = "Finished">Finished</option>
                    </select>

                    <div class="request activity-header" style="flex: 1; order: 2;">
                        <span class="activity-name"> Activity Name</span>
                        
                        <div style="display: inline-block">
                            [<button id="edit-media" class="request btn-edit" data-bs-toggle="modal" data-bs-target="#editMediaModal">
                                <img style="width: 15px" src="img/edit.png">
                            </button>
                            <a href="google.com">Media Link</a> | 
                            <a href="google.com">Related Files</a> 
                            ]
                        </div>
                    </div>

                    <div class="request btn-expand-info">
                        <button>
                            <i id="down" class="expand-icon bi bi-caret-down-fill"></i>
                            <i id="up" class="expand-icon bi bi-caret-up-fill hidden"></i>
                        </button>
                    </div>
                </div>
                </div>

                <hr class="request">

                <div class="request-row">
                    <span class="request-field-label">Submitted :</span>
                    <div class="request-field-content">MMM dd, yyyy</div>   
                </div>

                <div class="request-row">
                    <span class="request-field-label">Posting Date :</span>
                    <div class="request-field-content">MMM dd, yyyy</div>   
                </div>

                <div class="request-row">
                    <span class="request-field-label">
                        <button id="edit-caption" class="request btn-edit" data-bs-toggle="modal" data-bs-target="#editCaptionModal"
                        style="background-color: transparent; border: transparent;">
                            <img style="width: 15px" src="img/edit.png">
                        </button>
                        Caption :
                    </span>
                    <div id="caption" class="request-field-content caption-cut">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                    </div>   
                </div>

                <div id="extra-info" class="hidden">
                    
                    <hr class="request">

                    <div class="request-row">
                        <span class="request-field-label">Requester:</span>
                        <div class="request-field-content">Name (Committee)</div>   
                    </div>

                    <div class="request-row">
                        <span class="request-field-label">Pub Type:</span>
                        <div class="request-field-content">Poster</div>   
                    </div>

                    <div class="request-row">
                        <span class="request-field-label">Post-event:</span>
                        <div class="request-field-content">Yes</div>   
                    </div>

                    <div class="request-row darkened">
                         <span class="request-field-label">Description :</span>
                         <div class="request-field-content">
                             Esque elit ullamcorper dignissim. Nunc vel risus commodo viverra maecenas accumsan lacus. Amet dictum sit amet justo donec enim diam. Vitae nunc sed velit dignissim sodales. Aenean pharetra magna ac placerat. Cursus vitae congue mauris rhoncus aenean.
                         </div>
                    </div>

                    <div class="request-row">
                        <span class="request-field-label">Theme :</span>
                        <div class="request-field-content">Nunc vel risus</div>   
                    </div>

                    <div class="request-row">
                        <span class="request-field-label">Venue :</span>
                        <div class="request-field-content" style="word-break: break-all;">https://zoom.us/j/XXXXXXXXXX?pwd=OD2KGadf4gf)2348htrs97</div>   
                    </div>

                    <div class="request-row">
                        <span class="request-field-label">Activity Time :</span>
                        <div class="request-field-content">From mm/dd/yyyy 00:00 AM<br>to mm/dd/yyyy 00:00 AM </div>   
                    </div>

                    <div class="request-row darkened">
                        <span class="request-field-label">Additional Details :</span>
                        <div class="request-field-content">
                            Nunc vel risus commodo viverra maecenas accumsan lacus vel. Maecenas accumsan lacus vel facilisis volutpat est velit egestas dui. Aliquet nibh praesent tristique magna sit amet purus gravida quis. Nisi quis eleifend quam adipiscing vitae proin sagittis.
                        </div>   
                    </div>

                    <div class="request-row">
                        <span class="request-field-label">Comments :</span>
                        <div class="request-field-content">None</div>   
                    </div>

                    <div class="request-row">
                        <span class="request-field-label">Special Request :</span>
                        <div class="request-field-content">None</div>   
                    </div>

                </div>
            </div>
            <!-- { { /each } } -->

        </div>
    </div>

    <!-- MODALS -->
    <div class="modal fade" id="editMediaModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
            <div class="modal-body">
                <div class="form-row">
                    <input id="edit-media-input" type="text" class="form-control" placeholder="Enter link to publication media here.">
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn" data-bs-dismiss="modal">Cancel</button>
                <button id = "btnSaveCaption" type ="submit" class="btn btn-save" data-bs-dismiss="modal">Save</button>
            </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editCaptionModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
            <div class="modal-body">
                <div class="form-row">
                    <textarea id="edit-caption-input">
                        &lt;p&gt;Enter publication caption here.&lt;/p&gt;
                    </textarea>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn" data-bs-dismiss="modal">Cancel</button>
                <button id = "btnSaveCaption" type ="submit" class="btn btn-save" data-bs-dismiss="modal">Save</button>
            </div>
            </div>
        </div>
    </div>

    <script>
        ClassicEditor
            .create( document.querySelector( '#edit-caption-input' ) )
            .catch( error => {
                console.error( error );
            } );
    </script>

</body>
</html>